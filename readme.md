## 技术细节

### `FileChannel`

一个读，写，映射，操作文件的通道。

文件通道有能够被查询和改动的一个当前位置。文件本身包括了一个可被读写的变长字节序列，而且它的当前的size会被查询。当被写入的字节超过当前文件的大小时。文件的大小会添加；当文件被截断的时候，文件的大小会降低。文件有一个写被关联的像权限，内容类型和最后改动时间的元数据；这个类未定义訪问元数据的方法。

此外对于熟悉的字节通道读写关闭操作，这个类定义了下面的特定文件操作：

- 1.在文件的绝对位置的字节读写操作在某种程度上不会影响通道的当前位置。
- 2.文件的区域可能会被直接映射到内存中，对于大文件来说。这比通常的读写方法更有效。
- 3.为了保证数据在系统崩溃之后不丢失数据。文件的改动模式会被强制究竟层存储设备。
- 4.字节能从一个文件被转换为一些其它的通道，反之亦然。这样的操作在某种程度上会被很多操作系统或者文件系统优化成一个很高速的直接传输。
- 5.文件的区域或许会被锁住来防止其他程序的訪问。

> 像这种文件通道能够通过`FileInputStream`，`FileOutputStream,RandomAccessFile`类中的g`etChannel`方法获得。这个`getChannel`返回的文件通道是被连接到同样的底层文件的。

> 文件通道的状态与通过`getChannel`方法返回的channel对象是紧密相连的，假设明白的改变文件通道的position或者读写字节，则会改变原始对象的文件position,反之亦然。通过文件通道改变文件通道的长度将改变原始对象的文件长度，反之亦然。改变文件通道的内容也会改变原始对象的文件内容，反之亦然。

> 这个类指定了个别的指针。像“仅仅读打开”，“仅仅写打开”。“读写打开”。通过`FileInputStream`的`getChannel`方法获取的文件通道是仅仅读的。当然通过`FileOutputStream`的`getChannel`的方法获取的文件通道是可写的。通过`RandomAccessFile`的`getChannel`的方法获取的文件通道。在创建时假设传递的參数是“r"，则为仅仅读，否则为”读写“或者“写”。



### 面向切面编程

**AOP**为`Aspect Oriented Programming`的缩写，意为：面向切面编程，通过预编译方式和运行期动态代理实现程序功能的统一维护的一种技术.`AOP`是`OOP`的延续，是软件开发中的一个热点，也是Spring框架中的一个重要内容，是函数式编程的一种衍生范型。利用`AOP`可以对业务逻辑的各个部分进行隔离，从而使得业务逻辑各部分之间的耦合度降低，提高程序的可重用性，同时提高了开发的效率。

**在`Spring AOP`中业务逻辑仅仅只关注业务本身，将日志记录，性能统计，安全控制，事务处理，异常处理等代码从业务逻辑代码中划分出来，通过对这些行为的分离，我们希望可以将它们独立到非指导业务逻辑的方法中，进而改变这些行为的时候不影响业务逻辑的代码。**

~~~java

@Aspect:作用是把当前类标识为一个切面供容器读取
 
@Pointcut：Pointcut是植入Advice的触发条件。每个Pointcut的定义包括2部分，一是表达式，二是方法签名。方法签名必须是 public及void型。可以将Pointcut中的方法看作是一个被Advice引用的助记符，因为表达式不直观，因此我们可以通过方法签名的方式为 此表达式命名。因此Pointcut中的方法只需要方法签名，而不需要在方法体内编写实际代码。
@Around：环绕增强，相当于MethodInterceptor
@AfterReturning：后置增强，相当于AfterReturningAdvice，方法正常退出时执行
@Before：标识一个前置增强方法，相当于BeforeAdvice的功能，相似功能的还有
@AfterThrowing：异常抛出增强，相当于ThrowsAdvice
@After: final增强，不管是抛出异常或者正常退出都会执行
~~~

